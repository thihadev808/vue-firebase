{"version":3,"file":"js/369.de11b399.js","mappings":"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","sources":["webpack://vue-firebase/./src/views/EditView.vue","webpack://vue-firebase/./src/views/EditView.vue?eb6a"],"sourcesContent":["<template>\r\n  <div class=\"edit\">\r\n    <h1 class=\"u-font_dance\">edit</h1>\r\n    <form class=\"form\">\r\n      <div class=\"form_flex\">\r\n        <div class=\"formItem\">\r\n          <label for=\"title\">タイトル</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            placeholder=\"例 : ねじまき鳥クロニクル\"\r\n            v-model=\"editForm.title\"\r\n          />\r\n        </div>\r\n        <div class=\"formItem\">\r\n          <label for=\"author\">作家</label>\r\n          <input\r\n            name=\"author\"\r\n            type=\"text\"\r\n            placeholder=\"例 : 村上 春樹\"\r\n            v-model=\"editForm.author\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"formItem\">\r\n        <label for=\"url\">URL</label>\r\n        <input\r\n          name=\"url\"\r\n          type=\"text\"\r\n          placeholder=\"例 : https://en.wikipedia.org/wiki/The_Wind-Up_Bird_Chronicle\"\r\n          v-model=\"editForm.url\"\r\n        />\r\n      </div>\r\n      <div class=\"formItem\">\r\n        <label for=\"rating\">評価</label>\r\n        <select name=\"rating\" v-model=\"editForm.rating\">\r\n          <option value=\"1\" selected>1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"3\">3</option>\r\n          <option value=\"4\">4</option>\r\n          <option value=\"5\">5</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"formItem\">\r\n        <label for=\"read_date\">読了日</label>\r\n        <input\r\n          name=\"read_date\"\r\n          type=\"date\"\r\n          placeholder=\"2022/10/02\"\r\n          v-model=\"editForm.read_date\"\r\n        />\r\n      </div>\r\n      <div class=\"formItem\">\r\n        <label for=\"comment\">コメント</label>\r\n        <textarea\r\n          name=\"comment\"\r\n          type=\"text\"\r\n          placeholder=\"コメント\"\r\n          v-model=\"editForm.comment\"\r\n        />\r\n      </div>\r\n      <div class=\"buttons\">\r\n        <a @click.prevent=\"deleteBook\" class=\"deleteBtn\">削除</a>\r\n        <a @click.prevent=\"edit\" class=\"saveBtn\">保存</a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useStore } from \"vuex\";\r\nimport { ref } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\n\r\nimport { bookCollection } from \"../firebase\";\r\nimport { getDoc, doc } from \"firebase/firestore\";\r\n\r\nexport default {\r\n  name: \"EditView\",\r\n  setup() {\r\n    const store = useStore();\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n\r\n    const currentBook = ref({\r\n      bookRef: null,\r\n      id: route.params.bookId,\r\n    });\r\n\r\n    const editForm = ref({\r\n      url: \"\",\r\n      rating: 1,\r\n      active: false,\r\n    });\r\n\r\n    const getBook = async () => {\r\n      let bookRef = doc(bookCollection, currentBook.value.id);\r\n      currentBook.value.bookRef = bookRef;\r\n      let book = await getDoc(currentBook.value.bookRef);\r\n      let bookData = book.data();\r\n\r\n      editForm.value = {\r\n        ...editForm.value,\r\n        ...bookData,\r\n      };\r\n    };\r\n\r\n    const edit = async () => {\r\n      await store.dispatch(\"editBook\", {\r\n        currentBook: currentBook.value.bookRef,\r\n        bookDetails: editForm.value,\r\n      });\r\n      router.push(\"/\");\r\n    };\r\n\r\n    const deleteBook = async () => {\r\n      await store.dispatch(\"deleteBook\", {\r\n        currentBook: currentBook.value.bookRef,\r\n        bookId: currentBook.value.id,\r\n      });\r\n      router.push(\"/\");\r\n    };\r\n\r\n    getBook();\r\n\r\n    return {\r\n      editForm,\r\n      edit,\r\n      deleteBook,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"../styles/foundation\" as *;\r\n\r\nh1 {\r\n  font-size: 40px;\r\n}\r\n\r\n.form {\r\n  @include mq(small) {\r\n    .form_flex {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .formItem {\r\n        width: calc(50% - 20px);\r\n      }\r\n    }\r\n  }\r\n  .formItem {\r\n    margin-top: 30px;\r\n    label {\r\n      font-size: 16px;\r\n    }\r\n    input,\r\n    textarea {\r\n      color: #fff;\r\n      margin-top: 10px;\r\n      display: block;\r\n      width: 100%;\r\n      font-size: 16px;\r\n      outline: none;\r\n      padding: 5px 10px;\r\n      background: rgba(#fff, 0.1);\r\n      &::placeholder {\r\n        color: rgba(#fff, 0.4);\r\n      }\r\n    }\r\n    input {\r\n      border-bottom: 1px solid #fff;\r\n    }\r\n    textarea {\r\n      width: 100%;\r\n      min-height: 200px;\r\n      max-height: 420px;\r\n      position: relative;\r\n      z-index: 10;\r\n    }\r\n    select {\r\n      color: #fff;\r\n      margin-top: 6px;\r\n      display: block;\r\n      width: 50px;\r\n      padding: 5px 10px;\r\n      background: rgba(#fff, 0.1);\r\n      option {\r\n        display: block;\r\n        font-size: 16px;\r\n        color: #000;\r\n      }\r\n    }\r\n  }\r\n  .buttons {\r\n    display: flex;\r\n    width: 220px;\r\n    margin: 40px 0 0 auto;\r\n  }\r\n  .saveBtn,\r\n  .deleteBtn {\r\n    @include flex-center();\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n    width: 100px;\r\n    padding: 6px 0 9px;\r\n    border-radius: 30px;\r\n    color: #fff;\r\n    transition: 0.4s $ease-01;\r\n  }\r\n  .saveBtn {\r\n    border: 1px solid $color-primary;\r\n    background: $color-primary;\r\n    &:hover {\r\n      background: #fff;\r\n      color: $color-primary;\r\n    }\r\n  }\r\n  .deleteBtn {\r\n    margin-right: 20px;\r\n    border: 1px solid rgb(207, 29, 29);\r\n    background: rgb(207, 29, 29);\r\n    &:hover {\r\n      background: #fff;\r\n      color: rgb(207, 29, 29);\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./EditView.vue?vue&type=template&id=d1d1f6ea&scoped=true\"\nimport script from \"./EditView.vue?vue&type=script&lang=js\"\nexport * from \"./EditView.vue?vue&type=script&lang=js\"\n\nimport \"./EditView.vue?vue&type=style&index=0&id=d1d1f6ea&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\Study\\\\vue\\\\vue-firebase\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d1d1f6ea\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_hoisted_13","_createElementBlock","_hoisted_2","_hoisted_6","name","type","placeholder","$setup","title","$event","_hoisted_8","author","_hoisted_10","url","_hoisted_12","rating","_hoisted_20","read_date","_hoisted_22","comment","onClick","setup","store","useStore","route","useRoute","router","useRouter","currentBook","ref","bookRef","id","params","bookId","editForm","active","getBook","async","doc","bookCollection","value","book","getDoc","bookData","data","edit","dispatch","bookDetails","push","deleteBook","__exports__","render"],"sourceRoot":""}