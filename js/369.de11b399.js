"use strict";(self["webpackChunkvue_firebase"]=self["webpackChunkvue_firebase"]||[]).push([[369],{369:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var o=a(3396),d=a(9242);const l=e=>((0,o.dD)("data-v-d1d1f6ea"),e=e(),(0,o.Cn)(),e),i={class:"edit"},r=l((()=>(0,o._)("h1",{class:"u-font_dance"},"edit",-1))),n={class:"form"},u={class:"form_flex"},s={class:"formItem"},m=l((()=>(0,o._)("label",{for:"title"},"タイトル",-1))),c={class:"formItem"},p=l((()=>(0,o._)("label",{for:"author"},"作家",-1))),v={class:"formItem"},f=l((()=>(0,o._)("label",{for:"url"},"URL",-1))),_={class:"formItem"},k=l((()=>(0,o._)("label",{for:"rating"},"評価",-1))),b=(0,o.uE)('<option value="1" selected data-v-d1d1f6ea>1</option><option value="2" data-v-d1d1f6ea>2</option><option value="3" data-v-d1d1f6ea>3</option><option value="4" data-v-d1d1f6ea>4</option><option value="5" data-v-d1d1f6ea>5</option>',5),h=[b],w={class:"formItem"},y=l((()=>(0,o._)("label",{for:"read_date"},"読了日",-1))),F={class:"formItem"},B=l((()=>(0,o._)("label",{for:"comment"},"コメント",-1))),I={class:"buttons"};function U(e,t,a,l,b,U){return(0,o.wg)(),(0,o.iD)("div",i,[r,(0,o._)("form",n,[(0,o._)("div",u,[(0,o._)("div",s,[m,(0,o.wy)((0,o._)("input",{name:"title",type:"text",placeholder:"例 : ねじまき鳥クロニクル","onUpdate:modelValue":t[0]||(t[0]=e=>l.editForm.title=e)},null,512),[[d.nr,l.editForm.title]])]),(0,o._)("div",c,[p,(0,o.wy)((0,o._)("input",{name:"author",type:"text",placeholder:"例 : 村上 春樹","onUpdate:modelValue":t[1]||(t[1]=e=>l.editForm.author=e)},null,512),[[d.nr,l.editForm.author]])])]),(0,o._)("div",v,[f,(0,o.wy)((0,o._)("input",{name:"url",type:"text",placeholder:"例 : https://en.wikipedia.org/wiki/The_Wind-Up_Bird_Chronicle","onUpdate:modelValue":t[2]||(t[2]=e=>l.editForm.url=e)},null,512),[[d.nr,l.editForm.url]])]),(0,o._)("div",_,[k,(0,o.wy)((0,o._)("select",{name:"rating","onUpdate:modelValue":t[3]||(t[3]=e=>l.editForm.rating=e)},h,512),[[d.bM,l.editForm.rating]])]),(0,o._)("div",w,[y,(0,o.wy)((0,o._)("input",{name:"read_date",type:"date",placeholder:"2022/10/02","onUpdate:modelValue":t[4]||(t[4]=e=>l.editForm.read_date=e)},null,512),[[d.nr,l.editForm.read_date]])]),(0,o._)("div",F,[B,(0,o.wy)((0,o._)("textarea",{name:"comment",type:"text",placeholder:"コメント","onUpdate:modelValue":t[5]||(t[5]=e=>l.editForm.comment=e)},null,512),[[d.nr,l.editForm.comment]])]),(0,o._)("div",I,[(0,o._)("a",{onClick:t[6]||(t[6]=(0,d.iM)(((...e)=>l.deleteBook&&l.deleteBook(...e)),["prevent"])),class:"deleteBtn"},"削除"),(0,o._)("a",{onClick:t[7]||(t[7]=(0,d.iM)(((...e)=>l.edit&&l.edit(...e)),["prevent"])),class:"saveBtn"},"保存")])])])}a(7658);var g=a(65),R=a(4870),V=a(2483),x=a(6056),C=a(6035),D={name:"EditView",setup(){const e=(0,g.oR)(),t=(0,V.yj)(),a=(0,V.tv)(),o=(0,R.iH)({bookRef:null,id:t.params.bookId}),d=(0,R.iH)({url:"",rating:1,active:!1}),l=async()=>{let e=(0,C.JU)(x.L,o.value.id);o.value.bookRef=e;let t=await(0,C.QT)(o.value.bookRef),a=t.data();d.value={...d.value,...a}},i=async()=>{await e.dispatch("editBook",{currentBook:o.value.bookRef,bookDetails:d.value}),a.push("/")},r=async()=>{await e.dispatch("deleteBook",{currentBook:o.value.bookRef,bookId:o.value.id}),a.push("/")};return l(),{editForm:d,edit:i,deleteBook:r}}},M=a(89);const E=(0,M.Z)(D,[["render",U],["__scopeId","data-v-d1d1f6ea"]]);var H=E}}]);
//# sourceMappingURL=369.de11b399.js.map